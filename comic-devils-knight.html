<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<title>Devil's Knight – Rozdziały</title>

<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

<style>
/* ===== RESET / BAZA ===== */
body {
  margin: 0;
  background: #111;
  color: white;
  font-family: Arial, sans-serif;
}
a { color: white; text-decoration: none; }
.back { display: block; padding: 50px; font-size: 50px; }
.cover { width: 100%; max-width: 100%; margin: 0 auto; display: block; border-radius: 12px; }
.section { padding: 24px 16px; }
.section h2 { font-size: 50px; font-weight: 600; margin-bottom: 50px; }
.chapter-list { list-style: none; padding: 0; margin: 0; }
.chapter-list li { margin-bottom: 18px; }
.chapter-list a {
  display: block;
  background: #1c1c1c;
  padding: 18px;
  border-radius: 12px;
  font-size: 45px;
  font-weight: 600;
}
.chapter-list a:active { background: #2a2a2a; }
.comic-tags { display: flex; gap: 8px; margin: 8px 0; flex-wrap: wrap; }
.comic-tags span {
  font-family: 'Libre Baskerville', serif;
  font-size: 32px;
  padding: 6px 14px;
  border-radius: 999px;
  background: rgba(255,255,255,0.08);
  color: #bbb;
  letter-spacing: 0.4px;
}
.comic-desc { font-family: 'Inter', sans-serif; font-size: 32px; color: #e0e0e0; line-height: 1.7; max-width: 600px; letter-spacing: 0.3px; }
.comic-desc-container {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 30vh;
  padding: 0 5px;
  text-align: center;
}
</style>
</head>

<body>

<a class="back" href="index.html">← Powrót</a>

<img class="cover" id="cover" src="" alt="">

<div class="comic-tags" id="tags"></div>

<div class="comic-desc-container">
  <p class="comic-desc" id="desc"></p>
</div>

<div class="section">
  <h2>Rozdziały</h2>
    <ul class="chapter-list">
      <li><a href="reader.html?comic=devilsknight&chapter=1">Rozdział 1</a></li>
      <li><a href="reader.html?comic=devilsknight&chapter=2">Rozdział 2</a></li>
      <li><a href="reader.html?comic=devilsknight&chapter=3">Rozdział 3</a></li>
      <li><a href="reader.html?comic=devilsknight&chapter=4">Rozdział 4</a></li>
      <li><a href="reader.html?comic=devilsknight&chapter=5">Rozdział 5</a></li>
      </ul>
</div>

<script>
(async function() {
  // nazwa pliku JSON
  const comicKey = "devilsknight";
  const jsonUrl = `${comicKey}.json`; // jeśli JSON jest w tym samym folderze

  const res = await fetch(jsonUrl);
  const data = await res.json();

  // Ustaw cover, desc, tagi
  document.getElementById("cover").src = data.cover;
  document.getElementById("cover").alt = comicKey;

  document.getElementById("desc").innerText = data.desc;

  document.getElementById("tags").innerHTML = data.tags
    .map(t => `<span>${t}</span>`)
    .join("");

  // Rozdziały
  const chapterList = document.getElementById("chapters");
  chapterList.innerHTML = Object.keys(data.chapters)
    .sort((a,b)=>Number(a)-Number(b))
    .map(ch => `
      <li>
        <a href="reader.html?comic=${comicKey}&chapter=${ch}">
          Rozdział ${ch}
        </a>
      </li>
    `).join("");
})();
</script>

</body>
</html>
