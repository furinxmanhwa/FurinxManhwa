<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<title>Reader</title>
<style>
body { margin:0; background:black; }
img { display:block; width:100vw; }
</style>
</head>
<body>

<div id="comic-container"></div>

<script>
(function() {
  const params = new URLSearchParams(window.location.search);
  const comicKey = params.get("comic");
  const chapter = Number(params.get("chapter"));

  /* ===== OSTATNIO CZYTANE – ZAPIS ===== */
if (comicKey) {
  const recentKey = "recentComics";
  let recent = JSON.parse(localStorage.getItem(recentKey)) || [];

  // usuń duplikaty
  recent = recent.filter(c => c !== comicKey);

  // dodaj na początek
  recent.unshift(comicKey);

  // limit (np. 10)
  recent = recent.slice(0, 10);

  localStorage.setItem(recentKey, JSON.stringify(recent));
}


  const comics = {
    swallowyouwhole: {
      1: [
        "https://pub-136ea5dc5f21492a9030316f07b17eeb.r2.dev/Syw%201%201.jpg",
        "https://pub-136ea5dc5f21492a9030316f07b17eeb.r2.dev/Syw%201%202.jpg",
        "https://pub-136ea5dc5f21492a9030316f07b17eeb.r2.dev/Syw%201%203.jpg",
        "https://pub-136ea5dc5f21492a9030316f07b17eeb.r2.dev/Syw%201%204.jpg",
        "https://pub-136ea5dc5f21492a9030316f07b17eeb.r2.dev/Syw%201%205.jpg",
        "https://pub-136ea5dc5f21492a9030316f07b17eeb.r2.dev/Syw%201%206.jpg",
        "https://pub-136ea5dc5f21492a9030316f07b17eeb.r2.dev/Syw%201%207.jpg",
        "https://pub-136ea5dc5f21492a9030316f07b17eeb.r2.dev/Syw%201%208.jpg",
        "https://pub-136ea5dc5f21492a9030316f07b17eeb.r2.dev/Syw%201%209.jpg",
        "https://pub-136ea5dc5f21492a9030316f07b17eeb.r2.dev/Syw%201%2010.jpg",
        "https://pub-136ea5dc5f21492a9030316f07b17eeb.r2.dev/Syw%201%2011.jpg",
        "https://pub-136ea5dc5f21492a9030316f07b17eeb.r2.dev/Syw%201%2012.jpg",
        "https://pub-136ea5dc5f21492a9030316f07b17eeb.r2.dev/Syw%201%2013.jpg",
        "https://pub-136ea5dc5f21492a9030316f07b17eeb.r2.dev/Syw%201%2014.jpg",
        "https://pub-136ea5dc5f21492a9030316f07b17eeb.r2.dev/Syw%201%2015.jpg",
        "https://pub-136ea5dc5f21492a9030316f07b17eeb.r2.dev/Syw%201%2016.jpg",
        "https://pub-136ea5dc5f21492a9030316f07b17eeb.r2.dev/Syw%201%2017.jpg",
        "https://pub-136ea5dc5f21492a9030316f07b17eeb.r2.dev/Syw%201%2018.jpg",
        "https://pub-136ea5dc5f21492a9030316f07b17eeb.r2.dev/Syw%201%2019.jpg",
        "https://pub-136ea5dc5f21492a9030316f07b17eeb.r2.dev/Syw%201%2020.jpg",
        "https://pub-136ea5dc5f21492a9030316f07b17eeb.r2.dev/Syw%201%2021.jpg",
        "https://pub-136ea5dc5f21492a9030316f07b17eeb.r2.dev/Syw%201%2022.jpg",
        "https://pub-136ea5dc5f21492a9030316f07b17eeb.r2.dev/Syw%201%2023.jpg",
        "https://pub-136ea5dc5f21492a9030316f07b17eeb.r2.dev/Syw%201%2024.jpg",
        "https://pub-136ea5dc5f21492a9030316f07b17eeb.r2.dev/Syw%201%2025.jpg"
        // reszta stron
        ]
    },
    
    thehoundsofsisyphus: {
      0: [
        "https://pub-72ca82f426df48dfb3f6c716f8d872bd.r2.dev/0%20T%201-11.webp",
        "https://pub-72ca82f426df48dfb3f6c716f8d872bd.r2.dev/0%20T%2012-22.webp",
        "https://pub-72ca82f426df48dfb3f6c716f8d872bd.r2.dev/0%20T%2023-57.jpg",
        "https://pub-72ca82f426df48dfb3f6c716f8d872bd.r2.dev/0%20T%2058-69.webp",
        "https://pub-72ca82f426df48dfb3f6c716f8d872bd.r2.dev/0%20T%2070-79.webp",
        "https://pub-72ca82f426df48dfb3f6c716f8d872bd.r2.dev/0%20T%2080-87.webp",
        "https://pub-72ca82f426df48dfb3f6c716f8d872bd.r2.dev/0%20T%2088-95.webp",
        "https://pub-72ca82f426df48dfb3f6c716f8d872bd.r2.dev/0%20T%2096-106.webp",
        "https://pub-72ca82f426df48dfb3f6c716f8d872bd.r2.dev/0%20T%20107-117.webp",
        "https://pub-72ca82f426df48dfb3f6c716f8d872bd.r2.dev/0%20T%20118-124.webp",
        "https://pub-72ca82f426df48dfb3f6c716f8d872bd.r2.dev/0%20T%20125-133.webp"
      ]
    },

    thepizzadeliverymanandthegoldpalace: {
      1: [
        "https://pub-9b851339398240699a792a411e7ece21.r2.dev/rozdzilypizza/1/1%20P%201-3.jpg",
        "https://pub-9b851339398240699a792a411e7ece21.r2.dev/rozdzilypizza/1/1%20P%204-6.jpg",
        "https://pub-9b851339398240699a792a411e7ece21.r2.dev/rozdzilypizza/1/1%20P%207-9.jpg",
        "https://pub-9b851339398240699a792a411e7ece21.r2.dev/rozdzilypizza/1/1%20P%2010-13.jpg",
        "https://pub-9b851339398240699a792a411e7ece21.r2.dev/rozdzilypizza/1/1%20P%2014-16.jpg",
        "https://pub-9b851339398240699a792a411e7ece21.r2.dev/rozdzilypizza/1/1%20P%2017-18.jpg",
        "https://pub-9b851339398240699a792a411e7ece21.r2.dev/rozdzilypizza/1/1%20P%2019-22.jpg",
        "https://pub-9b851339398240699a792a411e7ece21.r2.dev/rozdzilypizza/1/1%20P%2023-24.jpg",
        "https://pub-9b851339398240699a792a411e7ece21.r2.dev/rozdzilypizza/1/1%20P%2025-28.jpg",
        "https://pub-9b851339398240699a792a411e7ece21.r2.dev/rozdzilypizza/1/1%20P%2029-31.jpg",
        "https://pub-9b851339398240699a792a411e7ece21.r2.dev/rozdzilypizza/1/1%20P%2032-34.jpg",
        "https://pub-9b851339398240699a792a411e7ece21.r2.dev/rozdzilypizza/1/1%20P%2035-36.jpg",
        "https://pub-9b851339398240699a792a411e7ece21.r2.dev/rozdzilypizza/1/1%20P%2037-39.jpg",
        "https://pub-9b851339398240699a792a411e7ece21.r2.dev/rozdzilypizza/1/1%20P%2040-42.jpg",
        "https://pub-9b851339398240699a792a411e7ece21.r2.dev/rozdzilypizza/1/1%20P%2043-45.jpg",
        "https://pub-9b851339398240699a792a411e7ece21.r2.dev/rozdzilypizza/1/1%20P%2046-47.jpg"
      ]
    }
  };

  const container = document.getElementById("comic-container");

  if (comicKey && comics[comicKey] && comics[comicKey][chapter]) {
    comics[comicKey][chapter].forEach(src => {
      const img = document.createElement("img");
      img.src = src;
      container.appendChild(img);
    });
  } else {
    container.innerHTML = "<p style='color:white; text-align:center; padding:50px;'>Brak obrazków dla tego rozdziału.</p>";
  }
})();
</script>

</body>
</html>
